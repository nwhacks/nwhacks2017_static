<html><head></head><body><div hidden="" by-polymer-bundler=""><link rel="import" href="../main-app/main-app.html"><!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
--><!--
`iron-autogrow-textarea` is an element containing a textarea that grows in height as more
lines of input are entered. Unless an explicit height or the `maxRows` property is set, it will
never scroll.

Example:

    <iron-autogrow-textarea></iron-autogrow-textarea>

### Styling

The following custom properties and mixins are available for styling:

Custom property | Description | Default
----------------|-------------|----------
`--iron-autogrow-textarea` | Mixin applied to the textarea | `{}`
`--iron-autogrow-textarea-placeholder` | Mixin applied to the textarea placeholder | `{}`

@group Iron Elements
@hero hero.svg
@demo demo/index.html
-->

<dom-module id="iron-autogrow-textarea" assetpath="../../bower_components/iron-autogrow-textarea/">
  <template>
    <style>:host{display:inline-block;position:relative;width:400px;border:1px solid;padding:2px;-moz-appearance:textarea;-webkit-appearance:textarea;overflow:hidden;}.mirror-text{visibility:hidden;word-wrap:break-word;}.fit{@apply (--layout-fit);}textarea{position:relative;outline:none;border:none;resize:none;background:inherit;color:inherit;width:100%;height:100%;font-size:inherit;font-family:inherit;line-height:inherit;text-align:inherit;@apply (--iron-autogrow-textarea);}::content textarea:invalid{box-shadow:none;}textarea::-webkit-input-placeholder{@apply (--iron-autogrow-textarea-placeholder);}textarea:-moz-placeholder{@apply (--iron-autogrow-textarea-placeholder);}textarea::-moz-placeholder{@apply (--iron-autogrow-textarea-placeholder);}textarea:-ms-input-placeholder{@apply (--iron-autogrow-textarea-placeholder);}</style>

    <!-- the mirror sizes the input/textarea so it grows with typing -->
    <!-- use &#160; instead &nbsp; of to allow this element to be used in XHTML -->
    <div id="mirror" class="mirror-text" aria-hidden="true">&nbsp;</div>

    <!-- size the input/textarea with a div, because the textarea has intrinsic size in ff -->
    <div class="textarea-container fit">
      <textarea id="textarea" name$="[[name]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" disabled$="[[disabled]]" rows$="[[rows]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]"></textarea>
    </div>
  </template>
</dom-module>

<script>Polymer({is:'iron-autogrow-textarea',behaviors:[Polymer.IronFormElementBehavior,Polymer.IronValidatableBehavior,Polymer.IronControlState],properties:{bindValue:{observer:'_bindValueChanged',type:String},rows:{type:Number,value:1,observer:'_updateCached'},maxRows:{type:Number,value:0,observer:'_updateCached'},autocomplete:{type:String,value:'off'},autofocus:{type:Boolean,value:!1},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},minlength:{type:Number},maxlength:{type:Number}},listeners:{input:'_onInput'},observers:['_onValueChanged(value)'],get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(a){this.$.textarea.selectionStart=a},set selectionEnd(a){this.$.textarea.selectionEnd=a},validate:function(){if(!this.required&&''==this.value)return this.invalid=!1,!0;var a;return this.hasValidator()?a=Polymer.IronValidatableBehavior.validate.call(this,this.value):(a=this.$.textarea.validity.valid,this.invalid=!a),this.fire('iron-input-validate'),a},_bindValueChanged:function(){var a=this.textarea;a&&(a.value!==this.bindValue&&(a.value=this.bindValue||0===this.bindValue?this.bindValue:''),this.value=this.bindValue,this.$.mirror.innerHTML=this._valueForMirror(),this.fire('bind-value-changed',{value:this.bindValue}))},_onInput:function(a){this.bindValue=a.path?a.path[0].value:a.target.value},_constrain:function(a){var b;for(a=a||[''],b=0<this.maxRows&&a.length>this.maxRows?a.slice(0,this.maxRows):a.slice(0);0<this.rows&&b.length<this.rows;)b.push('');return b.join('<br/>')+'&#160;'},_valueForMirror:function(){var a=this.textarea;if(a)return this.tokens=a&&a.value?a.value.replace(/&/gm,'&amp;').replace(/"/gm,'&quot;').replace(/'/gm,'&#39;').replace(/</gm,'&lt;').replace(/>/gm,'&gt;').split('\n'):[''],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=this._constrain(this.tokens)},_onValueChanged:function(){this.bindValue=this.value}});</script>
<!--
`<paper-textarea>` is a multi-line text field with Material Design styling.

    <paper-textarea label="Textarea label"></paper-textarea>

See `Polymer.PaperInputBehavior` for more API docs.

### Validation

Currently only `required` and `maxlength` validation is supported.

### Styling

See `Polymer.PaperInputContainer` for a list of custom properties used to
style this element.
-->

<dom-module id="paper-textarea" assetpath="../../bower_components/paper-input/">
  <template>
    <style>:host{display:block;}:host([hidden]){display:none !important;}label{pointer-events:none;}</style>

    <paper-input-container no-label-float$="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]">

      <label hidden$="[[!label]]" aria-hidden="true">[[label]]</label>

      <iron-autogrow-textarea id="input" class="paper-input-input" bind-value="{{value}}" invalid="{{invalid}}" disabled$="[[disabled]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" autocapitalize$="[[autocapitalize]]" rows$="[[rows]]" max-rows$="[[maxRows]]" on-change="_onChange"></iron-autogrow-textarea>

      <template is="dom-if" if="[[errorMessage]]">
        <paper-input-error>[[errorMessage]]</paper-input-error>
      </template>

      <template is="dom-if" if="[[charCounter]]">
        <paper-input-char-counter></paper-input-char-counter>
      </template>

    </paper-input-container>
  </template>
</dom-module>

<script>Polymer({is:'paper-textarea',behaviors:[Polymer.PaperInputBehavior,Polymer.IronFormElementBehavior],properties:{_ariaLabelledBy:{observer:'_ariaLabelledByChanged',type:String},_ariaDescribedBy:{observer:'_ariaDescribedByChanged',type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},_ariaLabelledByChanged:function(a){this.$.input.textarea.setAttribute('aria-labelledby',a)},_ariaDescribedByChanged:function(a){this.$.input.textarea.setAttribute('aria-describedby',a)},get _focusableElement(){return this.$.input.textarea}});</script>
</div><dom-module id="register-form">
  <template>
    <style>:root{--primary-text-color:white;}:host{display:block;}img[item-icon]{height:40px;width:40px;border-radius:100px;}paper-icon-item{pointer-events:none;}paper-checkbox, input[type="file"]{display:block;padding:8px 0px;}form{max-width:640px;margin:0 auto 30px;background-color:rgba(104, 117, 137, 0.5);padding:15px;border-radius:3px;box-shadow:0 0 15px rgba(104, 117, 137, 0.5);}@media (max-width: 640px){form{margin:0 -15px 30px;}}div[prefix]{opacity:0.6;}.register{margin-top:50px;}</style>
    <iron-ajax auto="" url="{{githubURL}}" handle-as="json" last-response="{{githubDetails}}" debounce-duration="300"></iron-ajax>
    <iron-ajax auto="" url="{{citiesURL}}" handle-as="json" last-response="{{cities}}" debounce-duration="300"></iron-ajax>

    <h1 id="register">nwHacks Registration</h1>
    <form is="iron-form" id="form">
      <paper-input required="" auto-validate="" maxlength="200" error-message="Required" label="What is your legal name?" value="{{data.name}}"></paper-input>
      <paper-input required="" auto-validate="" maxlength="200" error-message="Invalid Email" type="email" label="What is your email?" value="{{data.email}}"></paper-input>

      <p class="invalid" hidden$="{{!alreadyRegistered}}">
      You've already registered once. You can do so again, but only your last
      submission will be considered.
      </p>

      <paper-input required="" auto-validate="" maxlength="200" error-message="Invalid Phone Number" label="What is your emergency contact phone number?" type="tel" value="{{data.phone}}"></paper-input>
      <paper-input required="" auto-validate="" maxlength="200" error-message="Required" label="Where do you go to school?" value="{{data.school}}"></paper-input>
      <paper-input required="" auto-validate="" maxlength="200" error-message="Required" label="Where are you traveling from?" value="{{data.city}}" focused="{{cityFocused}}"></paper-input>
      <template is="dom-repeat" items="[[citiesClean]]">
        <paper-item on-tap="selectCity">[[item.matching_full_name]]</paper-item>
      </template>
      <paper-input maxlength="200" label="GitHub" value="{{data.github}}">
        <div prefix="">https://github.com/</div>
      </paper-input>
      <template is="dom-if" if="[[githubDetails]]">
        <paper-icon-item>
          <img src="{{githubDetails.avatar_url}}" item-icon="">
          <span>{{githubDetails.name}}</span>
        </paper-icon-item>
      </template>

      <paper-input maxlength="200" label="LinkedIn" value="{{data.linkedin}}">
        <div prefix="">https://linkedin.com/in/</div>
      </paper-input>
      <paper-input maxlength="200" label="Personal Site" auto-validate="" error-message="Invalid URL" value="{{data.personalsite}}" type="url"></paper-input>

      <paper-input always-float-label="" type="file" label="Resume" id="resume"></paper-input>

      <paper-dropdown-menu id="shirtSize" required="" auto-validate="" error-message="Required" label="T-Shirt Size" selected-item-label="{{data.tshirt}}">
        <paper-listbox class="dropdown-content">
          <paper-item>S</paper-item>
          <paper-item>M</paper-item>
          <paper-item>L</paper-item>
          <paper-item>XL</paper-item>
        </paper-listbox>
      </paper-dropdown-menu>
      <br>
      <br>
      <paper-checkbox checked="{{data.travel_reimbursement}}">Do you need travel reimbursements?</paper-checkbox>
      <paper-checkbox checked="{{data.first_hackathon}}">Is this your first hackathon?</paper-checkbox>
      <paper-checkbox checked="{{data.mentor}}">Would you like to be a mentor?</paper-checkbox>
      <paper-textarea required="" auto-validate="" error-message="Required" label="Why do you want to come to nwHacks?" value="{{data.reason}}"></paper-textarea>

      <paper-input label="Enter email addresses of your teammates to be considered as a group (max 4, comma-separated)." value="{{data.teammates}}">
      </paper-input>

      <p>
        We participate in Major League Hacking (MLH) as a MLH Member Event. You authorize us to share certain application/registration information for event administration, ranking, MLH administration, and occasional messages about hackathons in line with the
        <a target="_blank" href="https://mlh.io/privacy">MLH Privacy Policy</a>.
      </p>
      <paper-checkbox id="mlhCOC" required="" auto-validate="" error-message="Required">
        I will at all times abide by and conform to the <a target="_blank" href="http://mlh.io/code-of-conduct">Major League Hacking Code of Conduct</a> while at the event.
      </paper-checkbox>
      <p class="invalid" hidden$="{{valid}}">
        You must fill out all required fields.
      </p>
      <center>
      <paper-button elevation="1" on-tap="submit" class="register">Register</paper-button>
      </center>
    </form>

    <paper-dialog id="registered" modal="">
      <h2>Registered</h2>
      <p>All set! We'll get back to you in a few weeks with a decision.</p>
      <div class="buttons">
        <a href="/"><paper-button dialog-confirm="" autofocus="">Return Home</paper-button></a>
      </div>
    </paper-dialog>
    <paper-dialog id="submitting" modal="">
      <h2>Registering...</h2>
      <p>
        <paper-progress indeterminate=""></paper-progress>
      </p>
    </paper-dialog>
    <paper-dialog id="error" modal="">
      <h2>Error Registering</h2>
      <p>[[error]]</p>
      <p>Please try again later or use a different browser.</p>
      <div class="buttons">
        <paper-button dialog-confirm="" autofocus="">close</paper-button>
      </div>
    </paper-dialog>
  </template>

  <script src="https://www.gstatic.com/firebasejs/3.6.0/firebase.js"></script>
  <script>Polymer({is:'register-form',properties:{valid:{type:Boolean,value:function(){return!0}},githubURL:{computed:'updateGithubURL(data.github)'},citiesURL:{computed:'updateCitiesURL(data.city, cityFocused)'},citiesClean:{computed:'cleanCities(cities)'},data:{type:Object,notify:!0,value:function(){return{travel_reimbursement:!1,first_hackathon:!1,mentor:!1}}},alreadyRegistered:{value:!1}},observers:['checkEmail(data.email)'],checkEmail:function(a){if(console.log('email',a),this.checkEmailTimeout&&(clearTimeout(this.checkEmailTimeout),this.checkEmailTimeout=!1),!!a){var b=this;this.checkEmailTimeout=setTimeout(function(){b.checkEmailTimeout=!1,firebase.database().ref('emails').child(btoa(b.data.email)).once('value').then(function(c){var d=c.val();b.alreadyRegistered=!!d})},200)}},attached:function(){var a=this;setTimeout(function(){a.$.form.validate()},1)},updateGithubURL:function(a){return a?'https://api.github.com/users/'+a:''},updateCitiesURL:function(a,b){return a&&b?'https://api.teleport.org/api/cities/?limit=5&search='+a:''},cleanCities:function(a){return a&&a._embedded['city:search-results']},selectCity:function(a){this.set('data.city',a.model.item.matching_full_name)},cleanFileName:function(a){return a.replace(/[^A-Za-z0-9\.\-\(\)]+/g,'-')},submit:function(){var a=this;if(this.valid=this.$.form.validate(),this.valid){this.$.submitting.open();const c=firebase.database().ref('ids').push().key,d=this.$.resume.inputElement.files;var b=Promise.resolve();if(0<d.length){const f=d[0],g=this.cleanFileName(f.name),h='resumes/'+c+'-'+g;this.data.resume=h,b=firebase.storage().ref(h).put(f)}b.then(function(){return firebase.database().ref('registrations').child(c).set(a.data)}).then(function(){return firebase.database().ref('emails').child(btoa(a.data.email)).set(!0)}).then(function(f){console.log('Registered',f),a.$.submitting.close(),a.$.registered.open()}).catch(function(f){console.log('Error!',f),a.error=f,a.$.submitting.close(),a.$.error.open()})}}});var config={apiKey:'AIzaSyBou6z9QA7zvCpxUFLoTbwQZcWuBn47yEA',authDomain:'nwhacks-96701.firebaseapp.com',databaseURL:'https://nwhacks-96701.firebaseio.com',storageBucket:'nwhacks-96701.appspot.com',messagingSenderId:'874137730051'};firebase.initializeApp(config);</script>
</dom-module>
</body></html>