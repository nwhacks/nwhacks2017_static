<html><head><link rel="import" href="../bower_components/polymer/polymer.html">
<link rel="import" href="chart-js.html">

</head><body><dom-module id="category-chart">
  <template>
    <style>canvas{background-color:white;}.chart-container{overflow-x:auto;}</style>

    <h2>
      [[label]]
    </h2>
    <br>

    <div class="chart-container">
      <center>
        <canvas id="chart" height="480"></canvas>
      </center>
    </div>

  </template>
  <script>'use strict';Polymer({is:'category-chart',properties:{label:{type:String},data:{type:Array,value:()=>[],observer:'updateChart'}},updateChart:function(){const c={};this.data.forEach(h=>{c[h]=(c[h]||0)+1});const d=Object.keys(c);d.sort((h,j)=>{return c[j]-c[h]});const e=d.map(h=>c[h]),f={labels:d,datasets:[{label:this.label,data:e,backgroundColor:'rgba(220,0,0,0.5)',borderColor:'rgba(220,0,0,0.8)'}]};this.chart&&this.chart.destroy(),this.$.chart.width=60*d.length;const g=this.$.chart.getContext('2d');this.chart=new Chart(g,{type:'bar',data:f,options:{responsive:!1}},{})},randomColor:function(){for(var c='0123456789ABCDEF'.split(''),d='#',e=0;6>e;e++)d+=c[Math.floor(16*Math.random())];return d}});</script>
</dom-module>
</body></html>