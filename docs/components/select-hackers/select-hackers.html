<html><head></head><body><div hidden="" by-polymer-bundler=""><link rel="import" href="../main-app/main-app.html"><script>Polymer.IronScrollTargetBehavior={properties:{scrollTarget:{type:HTMLElement,value:function(){return this._defaultScrollTarget}}},observers:['_scrollTargetChanged(scrollTarget, isAttached)'],_shouldHaveListener:!0,_scrollTargetChanged:function(a,b){this._oldScrollTarget&&(this._toggleScrollListener(!1,this._oldScrollTarget),this._oldScrollTarget=null);b&&('document'===a?this.scrollTarget=this._doc:'string'==typeof a?this.scrollTarget=this.domHost?this.domHost.$[a]:Polymer.dom(this.ownerDocument).querySelector('#'+a):this._isValidScrollTarget()&&(this._boundScrollHandler=this._boundScrollHandler||this._scrollHandler.bind(this),this._oldScrollTarget=a,this._toggleScrollListener(this._shouldHaveListener,a)))},_scrollHandler:function(){},get _defaultScrollTarget(){return this._doc},get _doc(){return this.ownerDocument.documentElement},get _scrollTop(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageYOffset:this.scrollTarget.scrollTop:0},get _scrollLeft(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.pageXOffset:this.scrollTarget.scrollLeft:0},set _scrollTop(a){this.scrollTarget===this._doc?window.scrollTo(window.pageXOffset,a):this._isValidScrollTarget()&&(this.scrollTarget.scrollTop=a)},set _scrollLeft(a){this.scrollTarget===this._doc?window.scrollTo(a,window.pageYOffset):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a)},scroll:function(a,b){this.scrollTarget===this._doc?window.scrollTo(a,b):this._isValidScrollTarget()&&(this.scrollTarget.scrollLeft=a,this.scrollTarget.scrollTop=b)},get _scrollTargetWidth(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerWidth:this.scrollTarget.offsetWidth:0},get _scrollTargetHeight(){return this._isValidScrollTarget()?this.scrollTarget===this._doc?window.innerHeight:this.scrollTarget.offsetHeight:0},_isValidScrollTarget:function(){return this.scrollTarget instanceof HTMLElement},_toggleScrollListener:function(a,b){if(this._boundScrollHandler){var c=b===this._doc?window:b;a?c.addEventListener('scroll',this._boundScrollHandler):c.removeEventListener('scroll',this._boundScrollHandler)}},toggleScrollListener:function(a){this._shouldHaveListener=a,this._toggleScrollListener(a,this.scrollTarget)}};</script><dom-module id="iron-list" assetpath="../../bower_components/iron-list/"><template><style>:host{display:block;position:relative;}@media only screen and (-webkit-max-device-pixel-ratio: 1){:host{will-change:transform;}}#items{@apply (--iron-list-items-container);position:relative;}:host(:not([grid])) #items > ::content > *{width:100%;}#items > ::content > *{box-sizing:border-box;margin:0;position:absolute;top:0;will-change:transform;}</style><array-selector id="selector" items="{{items}}" selected="{{selectedItems}}" selected-item="{{selectedItem}}"></array-selector><div id="items"><content></content></div></template></dom-module><script>(function(){var a=navigator.userAgent.match(/iP(?:hone|ad;(?: U;)? CPU) OS (\d+)/),b=a&&8<=a[1],c=3,d='-10000px',j=-100;Polymer({is:'iron-list',properties:{items:{type:Array},maxPhysicalCount:{type:Number,value:500},as:{type:String,value:'item'},indexAs:{type:String,value:'index'},selectedAs:{type:String,value:'selected'},grid:{type:Boolean,value:!1,reflectToAttribute:!0},selectionEnabled:{type:Boolean,value:!1},selectedItem:{type:Object,notify:!0},selectedItems:{type:Object,notify:!0},multiSelection:{type:Boolean,value:!1}},observers:['_itemsChanged(items.*)','_selectionEnabledChanged(selectionEnabled)','_multiSelectionChanged(multiSelection)','_setOverflow(scrollTarget)'],behaviors:[Polymer.Templatizer,Polymer.IronResizableBehavior,Polymer.IronA11yKeysBehavior,Polymer.IronScrollTargetBehavior],keyBindings:{up:'_didMoveUp',down:'_didMoveDown',enter:'_didEnter'},_ratio:0.5,_scrollerPaddingTop:0,_scrollPosition:0,_physicalSize:0,_physicalAverage:0,_physicalAverageCount:0,_physicalTop:0,_virtualCount:0,_physicalIndexForKey:null,_estScrollHeight:0,_scrollHeight:0,_viewportHeight:0,_viewportWidth:0,_physicalItems:null,_physicalSizes:null,_firstVisibleIndexVal:null,_lastVisibleIndexVal:null,_collection:null,_maxPages:2,_focusedItem:null,_focusedIndex:-1,_offscreenFocusedItem:null,_focusBackfillItem:null,_itemsPerRow:1,_itemWidth:0,_rowHeight:0,_templateCost:0,get _physicalBottom(){return this._physicalTop+this._physicalSize},get _scrollBottom(){return this._scrollPosition+this._viewportHeight},get _virtualEnd(){return this._virtualStart+this._physicalCount-1},get _hiddenContentSize(){var k=this.grid?this._physicalRows*this._rowHeight:this._physicalSize;return k-this._viewportHeight},get _maxScrollTop(){return this._estScrollHeight-this._viewportHeight+this._scrollerPaddingTop},_minVirtualStart:0,get _maxVirtualStart(){return Math.max(0,this._virtualCount-this._physicalCount)},_virtualStartVal:0,set _virtualStart(k){this._virtualStartVal=Math.min(this._maxVirtualStart,Math.max(this._minVirtualStart,k))},get _virtualStart(){return this._virtualStartVal||0},_physicalStartVal:0,set _physicalStart(k){this._physicalStartVal=k%this._physicalCount,0>this._physicalStartVal&&(this._physicalStartVal=this._physicalCount+this._physicalStartVal),this._physicalEnd=(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalStart(){return this._physicalStartVal||0},_physicalCountVal:0,set _physicalCount(k){this._physicalCountVal=k,this._physicalEnd=(this._physicalStart+this._physicalCount-1)%this._physicalCount},get _physicalCount(){return this._physicalCountVal},_physicalEnd:0,get _optPhysicalSize(){return this.grid?this._estRowsInView*this._rowHeight*this._maxPages:0===this._viewportHeight?Infinity:this._viewportHeight*this._maxPages},get _isVisible(){return!!(this.offsetWidth||this.offsetHeight)},get firstVisibleIndex(){if(null===this._firstVisibleIndexVal){var k=Math.floor(this._physicalTop+this._scrollerPaddingTop);this._firstVisibleIndexVal=this._iterateItems(function(l,m){return k+=this._getPhysicalSizeIncrement(l),k>this._scrollPosition?this.grid?m-m%this._itemsPerRow:m:this.grid&&this._virtualCount-1===m?m-m%this._itemsPerRow:void 0})||0}return this._firstVisibleIndexVal},get lastVisibleIndex(){if(null===this._lastVisibleIndexVal)if(this.grid){var k=this.firstVisibleIndex+this._estRowsInView*this._itemsPerRow-1;this._lastVisibleIndexVal=Math.min(this._virtualCount,k)}else{var l=this._physicalTop;this._iterateItems(function(m,n){if(l<this._scrollBottom)this._lastVisibleIndexVal=n;else return!0;l+=this._getPhysicalSizeIncrement(m)})}return this._lastVisibleIndexVal},get _defaultScrollTarget(){return this},get _virtualRowCount(){return Math.ceil(this._virtualCount/this._itemsPerRow)},get _estRowsInView(){return Math.ceil(this._viewportHeight/this._rowHeight)},get _physicalRows(){return Math.ceil(this._physicalCount/this._itemsPerRow)},ready:function(){this.addEventListener('focus',this._didFocus.bind(this),!0)},attached:function(){0===this._physicalCount&&this._debounceTemplate(this._render),this.listen(this,'iron-resize','_resizeHandler')},detached:function(){this.unlisten(this,'iron-resize','_resizeHandler')},_setOverflow:function(k){this.style.webkitOverflowScrolling=k===this?'touch':'',this.style.overflow=k===this?'auto':''},updateViewportBoundaries:function(){this._scrollerPaddingTop=this.scrollTarget===this?0:parseInt(window.getComputedStyle(this)['padding-top'],10),this._viewportWidth=this.$.items.offsetWidth,this._viewportHeight=this._scrollTargetHeight,this.grid&&this._updateGridMetrics()},_scrollHandler:function(){var k=Math.max(0,Math.min(this._maxScrollTop,this._scrollTop)),l=k-this._scrollPosition,m=0<=l;if(this._scrollPosition=k,this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,Math.abs(l)>this._physicalSize){var n=Math.round(l/this._physicalAverage)*this._itemsPerRow;this._physicalTop+=l,this._virtualStart+=n,this._physicalStart+=n,this._update()}else{var o=this._getReusables(m);m?(this._physicalTop=o.physicalTop,this._virtualStart+=o.indexes.length,this._physicalStart+=o.indexes.length):(this._virtualStart-=o.indexes.length,this._physicalStart-=o.indexes.length),0===o.indexes.length?this._increasePoolIfNeeded():this._update(o.indexes,m?null:o.indexes)}},_getReusables:function(k){var l,m,n,o,p=[],q=this._hiddenContentSize*this._ratio,r=this._virtualStart,s=this._virtualEnd,t=this._physicalCount,u=this._physicalTop+this._scrollerPaddingTop,v=this._scrollTop,w=this._scrollBottom;for(k?(l=this._physicalStart,m=this._physicalEnd,n=v-u):(l=this._physicalEnd,m=this._physicalStart,n=this._physicalBottom-w);o=this._getPhysicalSizeIncrement(l),n-=o,!(p.length>=t||n<=q);)if(k){if(s+p.length+1>=this._virtualCount)break;if(u+o>=v)break;p.push(l),u+=o,l=(l+1)%t}else{if(0>=r-p.length)break;if(u+this._physicalSize-o<=w)break;p.push(l),u-=o,l=0===l?t-1:l-1}return{indexes:p,physicalTop:u-this._scrollerPaddingTop}},_update:function(k,l){if(!(k&&0===k.length)){if(this._manageFocus(),this._assignModels(k),this._updateMetrics(k),l)for(;l.length;){var m=l.pop();this._physicalTop-=this._getPhysicalSizeIncrement(m)}this._positionItems(),this._updateScrollerSize(),this._increasePoolIfNeeded()}},_createPool:function(k){var l=Array(k);this._ensureTemplatized();for(var n,m=0;m<k;m++)n=this.stamp(null),l[m]=n.root.querySelector('*'),Polymer.dom(this).appendChild(n.root);return l},_increasePoolIfNeeded:function(){var k=this,l=this._physicalBottom>=this._scrollBottom&&this._physicalTop<=this._scrollPosition;if(this._physicalSize>=this._optPhysicalSize&&l)return!1;var m=Math.round(0.5*this._physicalCount);return l?(this._yield(function(){k._increasePool(Math.min(m,Math.max(1,Math.round(50/k._templateCost))))}),!0):(this._debounceTemplate(this._increasePool.bind(this,m)),!0)},_yield:function(k){var l=window,m=l.requestIdleCallback?l.requestIdleCallback(k):l.setTimeout(k,16);Polymer.dom.addDebouncer({complete:function(){l.cancelIdleCallback?l.cancelIdleCallback(m):l.clearTimeout(m),k()}})},_increasePool:function(k){var l=Math.min(this._physicalCount+k,this._virtualCount-this._virtualStart,Math.max(this.maxPhysicalCount,c)),m=this._physicalCount,n=l-m,o=window.performance.now();0>=n||([].push.apply(this._physicalItems,this._createPool(n)),[].push.apply(this._physicalSizes,Array(n)),this._physicalCount=m+n,this._physicalStart>this._physicalEnd&&this._isIndexRendered(this._focusedIndex)&&this._getPhysicalIndex(this._focusedIndex)<this._physicalEnd&&(this._physicalStart+=n),this._update(),this._templateCost=(window.performance.now()-o)/n)},_render:function(){if(this.isAttached&&this._isVisible)if(0===this._physicalCount)this.updateViewportBoundaries(),this._increasePool(c);else{var k=this._getReusables(!0);this._physicalTop=k.physicalTop,this._virtualStart+=k.indexes.length,this._physicalStart+=k.indexes.length,this._update(k.indexes),this._update()}},_ensureTemplatized:function(){if(!this.ctor){var k={};k.__key__=!0,k[this.as]=!0,k[this.indexAs]=!0,k[this.selectedAs]=!0,k.tabIndex=!0,this._instanceProps=k,this._userTemplate=Polymer.dom(this).querySelector('template'),this._userTemplate?this.templatize(this._userTemplate):console.warn('iron-list requires a template to be provided in light-dom')}},_getStampedChildren:function(){return this._physicalItems},_forwardInstancePath:function(k,l,m){0===l.indexOf(this.as+'.')&&this.notifyPath('items.'+k.__key__+'.'+l.slice(this.as.length+1),m)},_forwardParentProp:function(k,l){this._physicalItems&&this._physicalItems.forEach(function(m){m._templateInstance[k]=l},this)},_forwardParentPath:function(k,l){this._physicalItems&&this._physicalItems.forEach(function(m){m._templateInstance.notifyPath(k,l,!0)},this)},_forwardItemPath:function(k,l){if(this._physicalIndexForKey){var m=k.indexOf('.'),n=k.substring(0,0>m?k.length:m),o=this._physicalIndexForKey[n],p=this._offscreenFocusedItem,q=p&&p._templateInstance.__key__===n?p:this._physicalItems[o];if(q&&q._templateInstance.__key__===n)if(0<=m)k=this.as+'.'+k.substring(m+1),q._templateInstance.notifyPath(k,l,!0);else{var r=q._templateInstance[this.as];if(Array.isArray(this.selectedItems)){for(var s=0;s<this.selectedItems.length;s++)if(this.selectedItems[s]===r){this.set('selectedItems.'+s,l);break}}else this.selectedItem===r&&this.set('selectedItem',l);q._templateInstance[this.as]=l}}},_itemsChanged:function(k){'items'===k.path?(this._virtualStart=0,this._physicalTop=0,this._virtualCount=this.items?this.items.length:0,this._collection=this.items?Polymer.Collection.get(this.items):null,this._physicalIndexForKey={},this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null,this._physicalCount=this._physicalCount||0,this._physicalItems=this._physicalItems||[],this._physicalSizes=this._physicalSizes||[],this._physicalStart=0,this._scrollTop>this._scrollerPaddingTop&&this._resetScrollPosition(0),this._removeFocusedItem(),this._debounceTemplate(this._render)):'items.splices'===k.path?(this._adjustVirtualIndex(k.value.indexSplices),this._virtualCount=this.items?this.items.length:0,this._debounceTemplate(this._render)):this._forwardItemPath(k.path.split('.').slice(1).join('.'),k.value)},_adjustVirtualIndex:function(k){k.forEach(function(l){if(l.removed.forEach(this._removeItem,this),l.index<this._virtualStart){var m=Math.max(l.addedCount-l.removed.length,l.index-this._virtualStart);this._virtualStart+=m,0<=this._focusedIndex&&(this._focusedIndex+=m)}},this)},_removeItem:function(k){this.$.selector.deselect(k),this._focusedItem&&this._focusedItem._templateInstance[this.as]===k&&this._removeFocusedItem()},_iterateItems:function(k,l){var m,n,o,p;if(2===arguments.length&&l){for(p=0;p<l.length;p++)if(m=l[p],n=this._computeVidx(m),null!=(o=k.call(this,m,n)))return o;}else{for(m=this._physicalStart,n=this._virtualStart;m<this._physicalCount;m++,n++)if(null!=(o=k.call(this,m,n)))return o;for(m=0;m<this._physicalStart;m++,n++)if(null!=(o=k.call(this,m,n)))return o}},_computeVidx:function(k){return k>=this._physicalStart?this._virtualStart+(k-this._physicalStart):this._virtualStart+(this._physicalCount-this._physicalStart)+k},_assignModels:function(k){this._iterateItems(function(l,m){var n=this._physicalItems[l],o=n._templateInstance,p=this.items&&this.items[m];null==p?(o.__key__=null,n.setAttribute('hidden','')):(o[this.as]=p,o.__key__=this._collection.getKey(p),o[this.selectedAs]=this.$.selector.isSelected(p),o[this.indexAs]=m,o.tabIndex=this._focusedIndex===m?0:-1,this._physicalIndexForKey[o.__key__]=l,n.removeAttribute('hidden'))},k)},_updateMetrics:function(k){Polymer.dom.flush();var l=0,m=0,n=this._physicalAverageCount,o=this._physicalAverage;this._iterateItems(function(p){m+=this._physicalSizes[p]||0,this._physicalSizes[p]=this._physicalItems[p].offsetHeight,l+=this._physicalSizes[p],this._physicalAverageCount+=this._physicalSizes[p]?1:0},k),this.grid?(this._updateGridMetrics(),this._physicalSize=Math.ceil(this._physicalCount/this._itemsPerRow)*this._rowHeight):this._physicalSize=this._physicalSize+l-m,this._physicalAverageCount!==n&&(this._physicalAverage=Math.round((o*n+l)/this._physicalAverageCount))},_updateGridMetrics:function(){this._itemWidth=0<this._physicalCount?this._physicalItems[0].getBoundingClientRect().width:200,this._rowHeight=0<this._physicalCount?this._physicalItems[0].offsetHeight:200,this._itemsPerRow=this._itemWidth?Math.floor(this._viewportWidth/this._itemWidth):this._itemsPerRow},_positionItems:function(){this._adjustScrollPosition();var k=this._physicalTop;if(this.grid){var l=this._itemsPerRow*this._itemWidth,m=(this._viewportWidth-l)/2;this._iterateItems(function(n,o){var p=o%this._itemsPerRow,q=Math.floor(p*this._itemWidth+m);this.translate3d(q+'px',k+'px',0,this._physicalItems[n]),this._shouldRenderNextRow(o)&&(k+=this._rowHeight)})}else this._iterateItems(function(n){this.translate3d(0,k+'px',0,this._physicalItems[n]),k+=this._physicalSizes[n]})},_getPhysicalSizeIncrement:function(k){return this.grid?this._computeVidx(k)%this._itemsPerRow==this._itemsPerRow-1?this._rowHeight:0:this._physicalSizes[k]},_shouldRenderNextRow:function(k){return k%this._itemsPerRow==this._itemsPerRow-1},_adjustScrollPosition:function(){var k=0===this._virtualStart?this._physicalTop:Math.min(this._scrollPosition+this._physicalTop,0);k&&(this._physicalTop-=k,!b&&0!==this._physicalTop&&this._resetScrollPosition(this._scrollTop-k))},_resetScrollPosition:function(k){this.scrollTarget&&(this._scrollTop=k,this._scrollPosition=this._scrollTop)},_updateScrollerSize:function(k){this._estScrollHeight=this.grid?this._virtualRowCount*this._rowHeight:this._physicalBottom+Math.max(this._virtualCount-this._physicalCount-this._virtualStart,0)*this._physicalAverage,k=k||0===this._scrollHeight,k=k||this._scrollPosition>=this._estScrollHeight-this._physicalSize,k=k||this.grid&&this.$.items.style.height<this._estScrollHeight,(k||Math.abs(this._estScrollHeight-this._scrollHeight)>=this._optPhysicalSize)&&(this.$.items.style.height=this._estScrollHeight+'px',this._scrollHeight=this._estScrollHeight)},scrollToItem:function(k){return this.scrollToIndex(this.items.indexOf(k))},scrollToIndex:function(k){if(!('number'!=typeof k||0>k||k>this.items.length-1)&&(Polymer.dom.flush(),0!==this._physicalCount)){k=Math.min(Math.max(k,0),this._virtualCount-1),(!this._isIndexRendered(k)||k>=this._maxVirtualStart)&&(this._virtualStart=this.grid?k-2*this._itemsPerRow:k-1),this._manageFocus(),this._assignModels(),this._updateMetrics(),this._physicalTop=Math.floor(this._virtualStart/this._itemsPerRow)*this._physicalAverage;for(var l=this._physicalStart,m=this._virtualStart,n=0,o=this._hiddenContentSize;m<k&&n<=o;)n+=this._getPhysicalSizeIncrement(l),l=(l+1)%this._physicalCount,m++;this._updateScrollerSize(!0),this._positionItems(),this._resetScrollPosition(this._physicalTop+this._scrollerPaddingTop+n),this._increasePoolIfNeeded(),this._firstVisibleIndexVal=null,this._lastVisibleIndexVal=null}},_resetAverage:function(){this._physicalAverage=0,this._physicalAverageCount=0},_resizeHandler:function(){this._debounceTemplate(function(){var k=Math.abs(this._viewportHeight-this._scrollTargetHeight);this.updateViewportBoundaries();('ontouchstart'in window||0<navigator.maxTouchPoints)&&0<k&&100>k||(this._isVisible?(this.toggleScrollListener(!0),this._resetAverage(),this._render()):this.toggleScrollListener(!1))}.bind(this))},_getModelFromItem:function(k){var l=this._collection.getKey(k),m=this._physicalIndexForKey[l];return null==m?null:this._physicalItems[m]._templateInstance},_getNormalizedItem:function(k){if(this._collection.getKey(k)===void 0){if('number'==typeof k){if(k=this.items[k],!k)throw new RangeError('<item> not found');return k}throw new TypeError('<item> should be a valid item')}return k},selectItem:function(k){k=this._getNormalizedItem(k);var l=this._getModelFromItem(k);!this.multiSelection&&this.selectedItem&&this.deselectItem(this.selectedItem),l&&(l[this.selectedAs]=!0),this.$.selector.select(k),this.updateSizeForItem(k)},deselectItem:function(k){k=this._getNormalizedItem(k);var l=this._getModelFromItem(k);l&&(l[this.selectedAs]=!1),this.$.selector.deselect(k),this.updateSizeForItem(k)},toggleSelectionForItem:function(k){k=this._getNormalizedItem(k),this.$.selector.isSelected(k)?this.deselectItem(k):this.selectItem(k)},clearSelection:function(){function k(l){var m=this._getModelFromItem(l);m&&(m[this.selectedAs]=!1)}Array.isArray(this.selectedItems)?this.selectedItems.forEach(k,this):this.selectedItem&&k.call(this,this.selectedItem),this.$.selector.clearSelection()},_selectionEnabledChanged:function(k){var l=k?this.listen:this.unlisten;l.call(this,this,'tap','_selectionHandler')},_selectionHandler:function(k){var l=this.modelForElement(k.target);if(l){var m,n,o=Polymer.dom(k).path[0],p=Polymer.dom(this.domHost?this.domHost.root:document).activeElement,q=this._physicalItems[this._getPhysicalIndex(l[this.indexAs])];'input'!==o.localName&&'button'!==o.localName&&'select'!==o.localName&&(m=l.tabIndex,l.tabIndex=j,n=p?p.tabIndex:-1,l.tabIndex=m,p&&q!==p&&q.contains(p)&&n!==j||this.toggleSelectionForItem(l[this.as]))}},_multiSelectionChanged:function(k){this.clearSelection(),this.$.selector.multi=k},updateSizeForItem:function(k){k=this._getNormalizedItem(k);var l=this._collection.getKey(k),m=this._physicalIndexForKey[l];null!=m&&(this._updateMetrics([m]),this._positionItems())},_manageFocus:function(){var k=this._focusedIndex;0<=k&&k<this._virtualCount?this._isIndexRendered(k)?this._restoreFocusedItem():this._createFocusBackfillItem():0<this._virtualCount&&0<this._physicalCount&&(this._focusedIndex=this._virtualStart,this._focusedItem=this._physicalItems[this._physicalStart])},_isIndexRendered:function(k){return k>=this._virtualStart&&k<=this._virtualEnd},_isIndexVisible:function(k){return k>=this.firstVisibleIndex&&k<=this.lastVisibleIndex},_getPhysicalIndex:function(k){return this._physicalIndexForKey[this._collection.getKey(this._getNormalizedItem(k))]},_focusPhysicalItem:function(k){if(!(0>k||k>=this._virtualCount)){this._restoreFocusedItem(),this._isIndexRendered(k)||this.scrollToIndex(k);var n,l=this._physicalItems[this._getPhysicalIndex(k)],m=l._templateInstance;m.tabIndex=j,l.tabIndex===j&&(n=l),n||(n=Polymer.dom(l).querySelector('[tabindex="'+j+'"]')),m.tabIndex=0,this._focusedIndex=k,n&&n.focus()}},_removeFocusedItem:function(){this._offscreenFocusedItem&&Polymer.dom(this).removeChild(this._offscreenFocusedItem),this._offscreenFocusedItem=null,this._focusBackfillItem=null,this._focusedItem=null,this._focusedIndex=-1},_createFocusBackfillItem:function(){var k=this._focusedIndex,l=this._getPhysicalIndex(k);if(!(this._offscreenFocusedItem||null==l||0>k)){if(!this._focusBackfillItem){var m=this.stamp(null);this._focusBackfillItem=m.root.querySelector('*'),Polymer.dom(this).appendChild(m.root)}this._offscreenFocusedItem=this._physicalItems[l],this._offscreenFocusedItem._templateInstance.tabIndex=0,this._physicalItems[l]=this._focusBackfillItem,this.translate3d(0,d,0,this._offscreenFocusedItem)}},_restoreFocusedItem:function(){var k,l=this._focusedIndex;!this._offscreenFocusedItem||0>this._focusedIndex||(this._assignModels(),k=this._getPhysicalIndex(l),null!=k&&(this._focusBackfillItem=this._physicalItems[k],this._focusBackfillItem._templateInstance.tabIndex=-1,this._physicalItems[k]=this._offscreenFocusedItem,this._offscreenFocusedItem=null,this.translate3d(0,d,0,this._focusBackfillItem)))},_didFocus:function(k){var l=this.modelForElement(k.target),m=this._focusedItem?this._focusedItem._templateInstance:null,n=null!==this._offscreenFocusedItem,o=this._focusedIndex;l&&m&&(m===l?!this._isIndexVisible(o)&&this.scrollToIndex(o):(this._restoreFocusedItem(),m.tabIndex=-1,l.tabIndex=0,o=l[this.indexAs],this._focusedIndex=o,this._focusedItem=this._physicalItems[this._getPhysicalIndex(o)],n&&!this._offscreenFocusedItem&&this._update()))},_didMoveUp:function(){this._focusPhysicalItem(this._focusedIndex-1)},_didMoveDown:function(k){k.detail.keyboardEvent.preventDefault(),this._focusPhysicalItem(this._focusedIndex+1)},_didEnter:function(k){this._focusPhysicalItem(this._focusedIndex),this._selectionHandler(k.detail.keyboardEvent)}})})();</script><dom-module id="firebase-query" assetpath="../../bower_components/polymerfire/"><script>(function(){'use strict';Polymer({is:'firebase-query',behaviors:[Polymer.FirebaseDatabaseBehavior],properties:{query:{type:Object,computed:'__computeQuery(ref, orderByChild, orderByValue, limitToFirst, limitToLast, startAt, endAt, equalTo)',observer:'__queryChanged'},orderByChild:{type:String,value:''},orderByValue:{type:Boolean,value:!1},startAt:{type:String,value:''},endAt:{type:String,value:''},equalTo:{type:Object,value:null},limitToFirst:{type:Number,value:0},limitToLast:{type:Number,value:0}},created:function(){this.__map={}},attached:function(){this.__queryChanged(this.query,this.query)},detached:function(){null==this.query||this.__queryChanged(null,this.query)},child:function(a){return this.__map[a]},get isNew(){return this.disabled||!this.__pathReady(this.path)},get zeroValue(){return[]},memoryPathToStoragePath:function(a){var b=this.path;if('data'!==a){var c=a.split('.'),d=window.parseInt(c[1],10);null==d||isNaN(d)||(c[1]=null!=this.data[d]&&this.data[d].$key),b+=c.join('/').replace(/^data\.?/,'')}return b},storagePathToMemoryPath:function(a){var b='data';if(a!==this.path){var c=a.replace(this.path+'/','').split('/'),d=c[0],e=this.__map[d];e&&(c[0]=this.__indexFromKey(d)),b+='.'+c.join('.')}return b},setStoredValue:function(a,b){return a===this.path||/\$key$/.test(a)?Promise.resolve():/\/\$val$/.test(a)?this._setFirebaseValue(a.replace(/\/\$val$/,''),b):this._setFirebaseValue(a,b)},_propertyToKey:function(a){var b=window.parseInt(a,10);if(null!=b&&!isNaN(b))return this.data[b].$key},__computeQuery:function(a,b,c,d,e,f,g,h){if(null==a)return null;var j;return j=b?a.orderByChild(b):c?a.orderByValue():a.orderByKey(),d?j=j.limitToFirst(d):e&&(j=j.limitToLast(e)),f&&(j=j.startAt(f)),g&&(j=j.endAt(g)),null!==h&&(j=j.equalTo(h)),j},__queryChanged:function(a,b){b&&(b.off('child_added',this.__onFirebaseChildAdded,this),b.off('child_removed',this.__onFirebaseChildRemoved,this),b.off('child_changed',this.__onFirebaseChildChanged,this),b.off('child_moved',this.__onFirebaseChildMoved,this),this.syncToMemory(function(){this.set('data',this.zeroValue)})),a&&(a.on('child_added',this.__onFirebaseChildAdded,this.__onError,this),a.on('child_removed',this.__onFirebaseChildRemoved,this.__onError,this),a.on('child_changed',this.__onFirebaseChildChanged,this.__onError,this),a.on('child_moved',this.__onFirebaseChildMoved,this.__onError,this))},__indexFromKey:function(a){if(null!=a)for(var b=0;b<this.data.length;b++)if(this.data[b].$key===a)return b;return-1},__onFirebaseChildAdded:function(a,b){var c=a.key,d=a.val(),e=this.__indexFromKey(b);this._log('Firebase child_added:',c,d),d=this.__snapshotToValue(a),this.__map[c]=d,this.splice('data',e+1,0,d)},__onFirebaseChildRemoved:function(a){var b=a.key,c=this.__map[b];this._log('Firebase child_removed:',b,c),c&&(this.__map[b]=null,this.async(function(){this.syncToMemory(function(){this.splice('data',this.__indexFromKey(b),1)})}))},__onFirebaseChildChanged:function(a){var b=a.key,c=this.__map[b];this._log('Firebase child_changed:',b,c),c&&this.async(function(){var d=this.__indexFromKey(b),e=this.__snapshotToValue(a);this.__map[b]=e,this.syncToMemory(function(){if(e instanceof Object){for(var f in e)this.set(['data',d,f],e[f]);for(var f in c)e.hasOwnProperty(f)||this.set(['data',d,f],void 0)}else this.set(['data',d],e)})})},__onFirebaseChildMoved:function(a,b){var c=a.key,d=this.__map[c],e=b?this.__indexFromKey(b):0;if(this._log('Firebase child_moved:',c,d,'to index',e),d){var f=this.__indexFromKey(c);d=this.__snapshotToValue(a),this.__map[c]=d,this.async(function(){this.syncToMemory(function(){this.splice('data',f,1),this.splice('data',e,0,d)})})}},__snapshotToValue:function(a){var b=a.key,c=a.val(),d='object'!=typeof c;return d?c={$key:b,$val:c}:c.$key=b,c}})})();</script></dom-module></div><dom-module id="select-hackers"><template><style>iron-list{margin:20px -15px 0;height:1000px;overflow-x:hidden;}paper-input{display:inline-block;}paper-card{color:black;max-width:900px;margin:0px auto 5px;display:block;}table{text-align:left;width:100%;table-layout:fixed;}a{color:green;}.tag{color:green;font-weight:bold;display:inline-block;padding:5px;margin:5px;border:2px solid green;}.tag.bad{color:red;border-color:red;}.tag.warn{color:orange;border-color:orange;}.right{float:right;}.card-actions{display:flex;justify-content:space-between;}.card-actions paper-checkbox{margin-left:8px;}a{cursor:pointer;}[label="Status"]{width:100px;}[label="Response"]{width:170px;}#filters paper-input, #filters paper-dropdown-menu{margin-top:-15px;}</style><div class="content"><paper-card id="filters"><div class="card-content">Filters &nbsp;<minimizable-box><paper-dropdown-menu label="Status" selected-item-label="{{filters.status}}"><paper-listbox class="dropdown-content" selected="[[selected(hacker.status)]]"><paper-item>All</paper-item><template is="dom-repeat" items="[[categories]]"><paper-item>[[item]]</paper-item></template></paper-listbox></paper-dropdown-menu>&nbsp;<paper-dropdown-menu label="Response" selected-item-label="{{filters.response}}"><paper-listbox class="dropdown-content" selected="[[responded(hacker.response)]]"><paper-item>All</paper-item><template is="dom-repeat" items="[[responseCategories]]"><paper-item>[[item]]</paper-item></template></paper-listbox></paper-dropdown-menu>&nbsp;<paper-input label="Search" value="{{filters.search}}" minlength="3" auto-validate=""></paper-input>Showing <span>{{filteredCount}}</span> of <span>{{totalCount}}</span><br><paper-checkbox checked="{{filters.mentor}}">Wants to Mentor</paper-checkbox>&nbsp;<paper-checkbox checked="{{filters.first}}">First Time</paper-checkbox>&nbsp;<paper-checkbox checked="{{filters.reimbursement}}">Needs Reimbursement</paper-checkbox>&nbsp;<paper-checkbox checked="{{filters.checked_in}}">Checked In</paper-checkbox>&nbsp;<paper-checkbox checked="{{filters.missing_passport}}">Missing Passport</paper-checkbox>&nbsp; <a on-tap="export">Export to CSV</a></minimizable-box></div></paper-card></div><iron-list id="list" items="{{filtered}}" as="hacker"><template><div><paper-card heading="[[title(hacker)]]"><div class="card-content"><table><tbody><template is="dom-if" if="[[hasTeammates(hacker)]]"><tr><th>Team</th><td><template is="dom-repeat" items="[[teammates(hacker)]]"><a on-tap="scrollToEmail">[[item]]</a></template></td></tr></template><tr><th>School</th><td>[[hacker.school]]</td></tr><tr><th>City</th><td>[[hacker.city]]</td></tr><template is="dom-if" if="[[hacker.github]]"><tr><th>GitHub</th><td><a target="_blank" href="[[githubLink(hacker.github)]]">[[hacker.github]]</a></td></tr></template><template is="dom-if" if="[[hacker.linkedin]]"><tr><th>LinkedIn</th><td><a target="_blank" href="[[linkedinLink(hacker.linkedin)]]">[[hacker.linkedin]]</a></td></tr></template><template is="dom-if" if="[[hacker.personalsite]]"><tr><th>Personal Site</th><td><a target="_blank" href="[[hacker.personalsite]]">[[hacker.personalsite]]</a></td></tr></template><template is="dom-if" if="[[hacker.resume]]"><tr><th>Resume</th><td><a target="_blank" href="[[resumeLink(hacker.resume)]]">Resume</a></td></tr></template><tr><th>Phone Number</th><td>[[hacker.phone]]</td></tr><tr><th>T-Shirt Size</th><td>[[hacker.tshirt]]</td></tr></tbody></table><h3>Why do you want to come to nwHacks?</h3><p>[[hacker.reason]]</p><template is="dom-if" if="[[hacker.travel_reimbursement]]"><div class="tag">Travel Reimbursement</div></template><template is="dom-if" if="[[hacker.first_hackathon]]"><div class="tag">First Hackathon</div></template><template is="dom-if" if="[[hacker.mentor]]"><div class="tag">Wants to Mentor</div></template><template is="dom-if" if="[[hacker.duplicate]]"><div class="tag bad">Multiple Submissions</div></template><template is="dom-if" if="[[hacker.hs]]"><div class="tag bad">Minor</div></template><template is="dom-if" if="[[hacker.rsvp]]"><h2>Response</h2><table><tbody><tr><th>Faculty</th><td>[[hacker.rsvp.faculty]]</td></tr><tr><th>Year</th><td>[[hacker.rsvp.year]]</td></tr><tr><th>Gender</th><td>[[hacker.rsvp.gender]]</td></tr><tr><th>Do you have any dietary restrictions?</th><td>[[hacker.rsvp.dietary]]</td></tr><tr><th>Do you have a valid passport?</th><td>[[hacker.rsvp.passport]]</td></tr><tr><th>Are you 19+?</th><td>[[hacker.rsvp.age]]</td></tr></tbody></table><template is="dom-if" if="[[hacker.rsvp.anything_else]]"><h3>Anything else?</h3><p>[[hacker.rsvp.anything_else]]</p></template></template><template is="dom-if" if="[[respondedWith(hacker, 0)]]"><div class="tag bad">No Response</div></template><template is="dom-if" if="[[respondedWith(hacker, 1)]]"><div class="tag">Going</div></template><template is="dom-if" if="[[respondedWith(hacker, 2)]]"><div class="tag bad">Not Going</div></template><template is="dom-if" if="[[respondedWith(hacker, 3)]]"><div class="tag warn">Need Reimbursement</div></template></div><div class="card-actions"><template is="dom-if" if="[[!hacker.acceptance_sent]]"><span><select on-change="onSelect"><template is="dom-repeat" items="[[categories]]"><option selected$="[[eq(item, hacker.status)]]">[[item]]</option></template></select><template is="dom-if" if="[[hasTeammates(hacker)]]">Team:<select on-change="onSelectTeam"><option></option>Team:<template is="dom-repeat" items="[[categories]]"><option>[[item]]</option></template></select></template></span></template><paper-checkbox checked="{{hacker.checked_in}}" on-change="checkIn">Checked In</paper-checkbox><template is="dom-if" if="[[acceptanceSent(hacker)]]"><span><a on-tap="resetRSVPTime">Reset RSVP Time</a> (<a target="_blank" href="[[rsvpLink(hacker)]]">Link</a>, [[timeTo(hacker.acceptance_sent.Time)]])</span></template><span class="right"><span>[[hacker.status]]</span>, ID: <span>[[hacker.id]]</span>, #<span>[[hacker.index]]</span></span></div></paper-card></div></template></iron-list><paper-dialog id="error" modal=""><h2>Error</h2><p>[[error]]</p><p>Please try again later or use a different browser.</p><div class="buttons"><paper-button dialog-confirm="" autofocus="">close</paper-button></div></paper-dialog><firebase-config is-admin="{{isAdmin}}" handle-error="[[handleError]]" auth=""></firebase-config><firebase-query id="regs" disabled="[[!isAdmin]]" path="/registrations" data="{{registrations}}"></firebase-query></template><script>!function(){var j=function(q){var z=new j.Index;return z.pipeline.add(j.trimmer,j.stopWordFilter,j.stemmer),q&&q.call(z,z),z};j.version="0.6.0",j.utils={},j.utils.warn=function(q){return function(z){q.console&&console.warn&&console.warn(z)}}(this),j.utils.asString=function(q){return void 0===q||null===q?"":q.toString()},j.EventEmitter=function(){this.events={}},j.EventEmitter.prototype.addListener=function(){var q=Array.prototype.slice.call(arguments),z=q.pop();if("function"!=typeof z)throw new TypeError("last argument must be a function");q.forEach(function(B){this.hasHandler(B)||(this.events[B]=[]),this.events[B].push(z)},this)},j.EventEmitter.prototype.removeListener=function(q,z){if(this.hasHandler(q)){var A=this.events[q].indexOf(z);this.events[q].splice(A,1),this.events[q].length||delete this.events[q]}},j.EventEmitter.prototype.emit=function(q){if(this.hasHandler(q)){var z=Array.prototype.slice.call(arguments,1);this.events[q].forEach(function(A){A.apply(void 0,z)})}},j.EventEmitter.prototype.hasHandler=function(q){return q in this.events},j.tokenizer=function(q){return arguments.length&&null!=q&&void 0!=q?Array.isArray(q)?q.map(function(z){return j.utils.asString(z).toLowerCase()}):q.toString().trim().toLowerCase().split(j.tokenizer.seperator):[]},j.tokenizer.seperator=/[\s\-]+/,j.Pipeline=function(){this._stack=[]},j.Pipeline.registeredFunctions={},j.Pipeline.registerFunction=function(q,z){z in this.registeredFunctions&&j.utils.warn("Overwriting existing registered function: "+z),q.label=z,j.Pipeline.registeredFunctions[q.label]=q},j.Pipeline.warnIfFunctionNotRegistered=function(q){var z=q.label&&q.label in this.registeredFunctions;z||j.utils.warn("Function is not registered with pipeline. This may cause problems when serialising the index.\n",q)},j.Pipeline.load=function(q){var z=new j.Pipeline;return q.forEach(function(A){var B=j.Pipeline.registeredFunctions[A];if(!B)throw new Error("Cannot load un-registered function: "+A);z.add(B)}),z},j.Pipeline.prototype.add=function(){var q=Array.prototype.slice.call(arguments);q.forEach(function(z){j.Pipeline.warnIfFunctionNotRegistered(z),this._stack.push(z)},this)},j.Pipeline.prototype.after=function(q,z){j.Pipeline.warnIfFunctionNotRegistered(z);var A=this._stack.indexOf(q);if(-1==A)throw new Error("Cannot find existingFn");A+=1,this._stack.splice(A,0,z)},j.Pipeline.prototype.before=function(q,z){j.Pipeline.warnIfFunctionNotRegistered(z);var A=this._stack.indexOf(q);if(-1==A)throw new Error("Cannot find existingFn");this._stack.splice(A,0,z)},j.Pipeline.prototype.remove=function(q){var z=this._stack.indexOf(q);-1!=z&&this._stack.splice(z,1)},j.Pipeline.prototype.run=function(q){for(var z=[],A=q.length,B=this._stack.length,C=0;A>C;C++){for(var D=q[C],G=0;B>G&&(D=this._stack[G](D,C,q),void 0!==D&&""!==D);G++);void 0!==D&&""!==D&&z.push(D)}return z},j.Pipeline.prototype.reset=function(){this._stack=[]},j.Pipeline.prototype.toJSON=function(){return this._stack.map(function(q){return j.Pipeline.warnIfFunctionNotRegistered(q),q.label})},j.Vector=function(){this._magnitude=null,this.list=void 0,this.length=0},j.Vector.Node=function(q,z,A){this.idx=q,this.val=z,this.next=A},j.Vector.prototype.insert=function(q,z){this._magnitude=void 0;var A=this.list;if(!A)return this.list=new j.Vector.Node(q,z,A),this.length++;if(q<A.idx)return this.list=new j.Vector.Node(q,z,A),this.length++;for(var B=A,C=A.next;void 0!=C;){if(q<C.idx)return B.next=new j.Vector.Node(q,z,C),this.length++;B=C,C=C.next}return B.next=new j.Vector.Node(q,z,C),this.length++},j.Vector.prototype.magnitude=function(){if(this._magnitude)return this._magnitude;for(var q,z=this.list,A=0;z;)q=z.val,A+=q*q,z=z.next;return this._magnitude=Math.sqrt(A)},j.Vector.prototype.dot=function(q){for(var z=this.list,A=q.list,B=0;z&&A;)z.idx<A.idx?z=z.next:z.idx>A.idx?A=A.next:(B+=z.val*A.val,z=z.next,A=A.next);return B},j.Vector.prototype.similarity=function(q){return this.dot(q)/(this.magnitude()*q.magnitude())},j.SortedSet=function(){this.length=0,this.elements=[]},j.SortedSet.load=function(q){var z=new this;return z.elements=q,z.length=q.length,z},j.SortedSet.prototype.add=function(){var q,z;for(q=0;q<arguments.length;q++)z=arguments[q],~this.indexOf(z)||this.elements.splice(this.locationFor(z),0,z);this.length=this.elements.length},j.SortedSet.prototype.toArray=function(){return this.elements.slice()},j.SortedSet.prototype.map=function(q,z){return this.elements.map(q,z)},j.SortedSet.prototype.forEach=function(q,z){return this.elements.forEach(q,z)},j.SortedSet.prototype.indexOf=function(q){for(var z=0,A=this.elements.length,B=A-z,C=z+Math.floor(B/2),D=this.elements[C];1<B;){if(D===q)return C;q>D&&(z=C),D>q&&(A=C),B=A-z,C=z+Math.floor(B/2),D=this.elements[C]}return D===q?C:-1},j.SortedSet.prototype.locationFor=function(q){for(var z=0,A=this.elements.length,B=A-z,C=z+Math.floor(B/2),D=this.elements[C];1<B;)q>D&&(z=C),D>q&&(A=C),B=A-z,C=z+Math.floor(B/2),D=this.elements[C];return D>q?C:q>D?C+1:void 0},j.SortedSet.prototype.intersect=function(q){for(var z=new j.SortedSet,A=0,B=0,C=this.length,D=q.length,G=this.elements,H=q.elements;;){if(A>C-1||B>D-1)break;G[A]===H[B]?(z.add(G[A]),A++,B++):G[A]<H[B]?A++:G[A]>H[B]&&B++}return z},j.SortedSet.prototype.clone=function(){var q=new j.SortedSet;return q.elements=this.toArray(),q.length=q.elements.length,q},j.SortedSet.prototype.union=function(q){var z,A,B;return this.length>=q.length?(z=this,A=q):(z=q,A=this),B=z.clone(),B.add.apply(B,A.toArray()),B},j.SortedSet.prototype.toJSON=function(){return this.toArray()},j.Index=function(){this._fields=[],this._ref="id",this.pipeline=new j.Pipeline,this.documentStore=new j.Store,this.tokenStore=new j.TokenStore,this.corpusTokens=new j.SortedSet,this.eventEmitter=new j.EventEmitter,this._idfCache={},this.on("add","remove","update",function(){this._idfCache={}}.bind(this))},j.Index.prototype.on=function(){var q=Array.prototype.slice.call(arguments);return this.eventEmitter.addListener.apply(this.eventEmitter,q)},j.Index.prototype.off=function(q,z){return this.eventEmitter.removeListener(q,z)},j.Index.load=function(q){q.version!==j.version&&j.utils.warn("version mismatch: current "+j.version+" importing "+q.version);var z=new this;return z._fields=q.fields,z._ref=q.ref,z.documentStore=j.Store.load(q.documentStore),z.tokenStore=j.TokenStore.load(q.tokenStore),z.corpusTokens=j.SortedSet.load(q.corpusTokens),z.pipeline=j.Pipeline.load(q.pipeline),z},j.Index.prototype.field=function(q,z){var z=z||{},A={name:q,boost:z.boost||1};return this._fields.push(A),this},j.Index.prototype.ref=function(q){return this._ref=q,this},j.Index.prototype.add=function(q,z){var A={},B=new j.SortedSet,C=q[this._ref],z=!(void 0!==z)||z;this._fields.forEach(function(I){var J=this.pipeline.run(j.tokenizer(q[I.name]));A[I.name]=J,j.SortedSet.prototype.add.apply(B,J)},this),this.documentStore.set(C,B),j.SortedSet.prototype.add.apply(this.corpusTokens,B.toArray());for(var D=0;D<B.length;D++){var G=B.elements[D],H=this._fields.reduce(function(I,J){var K=A[J.name].length;if(!K)return I;var L=A[J.name].filter(function(M){return M===G}).length;return I+L/K*J.boost},0);this.tokenStore.add(G,{ref:C,tf:H})}z&&this.eventEmitter.emit("add",q,this)},j.Index.prototype.remove=function(q,z){var A=q[this._ref],z=!(void 0!==z)||z;if(this.documentStore.has(A)){var B=this.documentStore.get(A);this.documentStore.remove(A),B.forEach(function(C){this.tokenStore.remove(C,A)},this),z&&this.eventEmitter.emit("remove",q,this)}},j.Index.prototype.update=function(q,z){var z=!(void 0!==z)||z;this.remove(q,!1),this.add(q,!1),z&&this.eventEmitter.emit("update",q,this)},j.Index.prototype.idf=function(q){var z="@"+q;if(Object.prototype.hasOwnProperty.call(this._idfCache,z))return this._idfCache[z];var A=this.tokenStore.count(q),B=1;return 0<A&&(B=1+Math.log(this.documentStore.length/A)),this._idfCache[z]=B},j.Index.prototype.search=function(q){var z=this.pipeline.run(j.tokenizer(q)),A=new j.Vector,B=[],C=this._fields.reduce(function(H,I){return H+I.boost},0),D=z.some(function(H){return this.tokenStore.has(H)},this);if(!D)return[];z.forEach(function(H,I,J){var K=1/J.length*this._fields.length*C,L=this,M=this.tokenStore.expand(H).reduce(function(Q,R){var U=L.corpusTokens.indexOf(R),V=L.idf(R),W=1,X=new j.SortedSet;if(R!==H){var Y=Math.max(3,R.length-H.length);W=1/Math.log(Y)}-1<U&&A.insert(U,K*V*W);for(var Z=L.tokenStore.get(R),$=Object.keys(Z),aa=$.length,ba=0;aa>ba;ba++)X.add(Z[$[ba]].ref);return Q.union(X)},new j.SortedSet);B.push(M)},this);var G=B.reduce(function(H,I){return H.intersect(I)});return G.map(function(H){return{ref:H,score:A.similarity(this.documentVector(H))}},this).sort(function(H,I){return I.score-H.score})},j.Index.prototype.documentVector=function(q){for(var z=this.documentStore.get(q),A=z.length,B=new j.Vector,C=0;A>C;C++){var D=z.elements[C],G=this.tokenStore.get(D)[q].tf,H=this.idf(D);B.insert(this.corpusTokens.indexOf(D),G*H)}return B},j.Index.prototype.toJSON=function(){return{version:j.version,fields:this._fields,ref:this._ref,documentStore:this.documentStore.toJSON(),tokenStore:this.tokenStore.toJSON(),corpusTokens:this.corpusTokens.toJSON(),pipeline:this.pipeline.toJSON()}},j.Index.prototype.use=function(q){var z=Array.prototype.slice.call(arguments,1);z.unshift(this),q.apply(this,z)},j.Store=function(){this.store={},this.length=0},j.Store.load=function(q){var z=new this;return z.length=q.length,z.store=Object.keys(q.store).reduce(function(A,B){return A[B]=j.SortedSet.load(q.store[B]),A},{}),z},j.Store.prototype.set=function(q,z){this.has(q)||this.length++,this.store[q]=z},j.Store.prototype.get=function(q){return this.store[q]},j.Store.prototype.has=function(q){return q in this.store},j.Store.prototype.remove=function(q){this.has(q)&&(delete this.store[q],this.length--)},j.Store.prototype.toJSON=function(){return{store:this.store,length:this.length}},j.stemmer=function(){var q={ational:"ate",tional:"tion",enci:"ence",anci:"ance",izer:"ize",bli:"ble",alli:"al",entli:"ent",eli:"e",ousli:"ous",ization:"ize",ation:"ate",ator:"ate",alism:"al",iveness:"ive",fulness:"ful",ousness:"ous",aliti:"al",iviti:"ive",biliti:"ble",logi:"log"},z={icate:"ic",ative:"",alize:"al",iciti:"ic",ical:"ic",ful:"",ness:""},B="[aeiouy]",C="[^aeiou]"+"[^aeiouy]*",D=B+"[aeiou]*",K=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,L=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*[aeiouy][aeiou]*[^aeiou][^aeiouy]*/,M=/^([^aeiou][^aeiouy]*)?[aeiouy][aeiou]*[^aeiou][^aeiouy]*([aeiouy][aeiou]*)?$/,Q=/^([^aeiou][^aeiouy]*)?[aeiouy]/,R=/^(.+?)(ss|i)es$/,U=/^(.+?)([^s])s$/,V=/^(.+?)eed$/,W=/^(.+?)(ed|ing)$/,X=/.$/,Y=/(at|bl|iz)$/,Z=/([^aeiouylsz])\1$/,$=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/,aa=/^(.+?[^aeiou])y$/,ba=/^(.+?)(ational|tional|enci|anci|izer|bli|alli|entli|eli|ousli|ization|ation|ator|alism|iveness|fulness|ousness|aliti|iviti|biliti|logi)$/,ca=/^(.+?)(icate|ative|alize|iciti|ical|ful|ness)$/,da=/^(.+?)(al|ance|ence|er|ic|able|ible|ant|ement|ment|ent|ou|ism|ate|iti|ous|ive|ize)$/,ea=/^(.+?)(s|t)(ion)$/,fa=/^(.+?)e$/,ga=/ll$/,ha=/^[^aeiou][^aeiouy]*[aeiouy][^aeiouwxy]$/;return function(ja){var ka,la,ma,na,oa,pa,qa;if(3>ja.length)return ja;if(ma=ja.substr(0,1),"y"==ma&&(ja=ma.toUpperCase()+ja.substr(1)),na=R,oa=U,na.test(ja)?ja=ja.replace(na,"$1$2"):oa.test(ja)&&(ja=ja.replace(oa,"$1$2")),na=V,oa=W,na.test(ja)){var ra=na.exec(ja);na=K,na.test(ra[1])&&(na=X,ja=ja.replace(na,""))}else if(oa.test(ja)){var ra=oa.exec(ja);ka=ra[1],oa=Q,oa.test(ka)&&(ja=ka,oa=Y,pa=Z,qa=$,oa.test(ja)?ja+="e":pa.test(ja)?(na=X,ja=ja.replace(na,"")):qa.test(ja)&&(ja+="e"))}if(na=aa,na.test(ja)){var ra=na.exec(ja);ka=ra[1],ja=ka+"i"}if(na=ba,na.test(ja)){var ra=na.exec(ja);ka=ra[1],la=ra[2],na=K,na.test(ka)&&(ja=ka+q[la])}if(na=ca,na.test(ja)){var ra=na.exec(ja);ka=ra[1],la=ra[2],na=K,na.test(ka)&&(ja=ka+z[la])}if(na=da,oa=ea,na.test(ja)){var ra=na.exec(ja);ka=ra[1],na=L,na.test(ka)&&(ja=ka)}else if(oa.test(ja)){var ra=oa.exec(ja);ka=ra[1]+ra[2],oa=L,oa.test(ka)&&(ja=ka)}if(na=fa,na.test(ja)){var ra=na.exec(ja);ka=ra[1],na=L,oa=M,pa=ha,(na.test(ka)||oa.test(ka)&&!pa.test(ka))&&(ja=ka)}return na=ga,oa=L,na.test(ja)&&oa.test(ja)&&(na=X,ja=ja.replace(na,"")),"y"==ma&&(ja=ma.toLowerCase()+ja.substr(1)),ja}}(),j.Pipeline.registerFunction(j.stemmer,"stemmer"),j.generateStopWordFilter=function(q){var z=q.reduce(function(A,B){return A[B]=B,A},{});return function(A){return A&&z[A]!==A?A:void 0}},j.stopWordFilter=j.generateStopWordFilter(["a","able","about","across","after","all","almost","also","am","among","an","and","any","are","as","at","be","because","been","but","by","can","cannot","could","dear","did","do","does","either","else","ever","every","for","from","get","got","had","has","have","he","her","hers","him","his","how","however","i","if","in","into","is","it","its","just","least","let","like","likely","may","me","might","most","must","my","neither","no","nor","not","of","off","often","on","only","or","other","our","own","rather","said","say","says","she","should","since","so","some","than","that","the","their","them","then","there","these","they","this","tis","to","too","twas","us","wants","was","we","were","what","when","where","which","while","who","whom","why","will","with","would","yet","you","your"]),j.Pipeline.registerFunction(j.stopWordFilter,"stopWordFilter"),j.trimmer=function(q){return q.replace(/^\W+/,"").replace(/\W+$/,"")},j.Pipeline.registerFunction(j.trimmer,"trimmer"),j.TokenStore=function(){this.root={docs:{}},this.length=0},j.TokenStore.load=function(q){var z=new this;return z.root=q.root,z.length=q.length,z},j.TokenStore.prototype.add=function(q,z,A){var A=A||this.root,B=q.charAt(0),C=q.slice(1);return B in A||(A[B]={docs:{}}),0===C.length?(A[B].docs[z.ref]=z,void(this.length+=1)):this.add(C,z,A[B])},j.TokenStore.prototype.has=function(q){if(!q)return!1;for(var z=this.root,A=0;A<q.length;A++){if(!z[q.charAt(A)])return!1;z=z[q.charAt(A)]}return!0},j.TokenStore.prototype.getNode=function(q){if(!q)return{};for(var z=this.root,A=0;A<q.length;A++){if(!z[q.charAt(A)])return{};z=z[q.charAt(A)]}return z},j.TokenStore.prototype.get=function(q,z){return this.getNode(q,z).docs||{}},j.TokenStore.prototype.count=function(q,z){return Object.keys(this.get(q,z)).length},j.TokenStore.prototype.remove=function(q,z){if(q){for(var A=this.root,B=0;B<q.length;B++){if(!(q.charAt(B)in A))return;A=A[q.charAt(B)]}delete A.docs[z]}},j.TokenStore.prototype.expand=function(q,z){var A=this.getNode(q),B=A.docs||{},z=z||[];return Object.keys(B).length&&z.push(q),Object.keys(A).forEach(function(C){"docs"!==C&&z.concat(this.expand(q+C,z))},this),z},j.TokenStore.prototype.toJSON=function(){return{root:this.root,length:this.length}},function(q,z){"function"==typeof define&&define.amd?define(z):"object"==typeof exports?module.exports=z():q.lunr=z()}(this,function(){return j})}();</script><script>!function(k,q){"function"==typeof define&&define.amd?define([],q):"object"==typeof module&&module.exports?module.exports=q():k.CSV=q()}(this,function(){"use strict";function k(Q){var R=typeof Q;return"function"==R||"object"==R&&!!Q}function q(Q){return"string"==typeof Q}function x(Q){return!isNaN(+Q)}function z(Q){return 0==Q||1==Q}function B(Q){return null==Q}function C(Q){return null!=Q}function E(Q,R){return C(Q)?Q:R}function F(Q,R){for(var S=0,T=Q.length;T>S&&!1!==R(Q[S],S);S+=1);}function G(Q){return Q.replace(/"/g,"\\\"")}function H(Q){return"attrs["+Q+"]"}function I(Q,R){return x(Q)?"Number("+H(R)+")":z(Q)?"Boolean("+H(R)+" == true)":"String("+H(R)+")"}function J(Q,R,S,T){var U=[];return 3==arguments.length?(R?O(R)?F(S,function(V,W){q(R[W])?R[W]=R[W].toLowerCase():Q[R[W]]=R[W],U.push("deserialize[cast["+W+"]]("+H(W)+")")}):F(S,function(V,W){U.push(I(V,W))}):F(S,function(V,W){U.push(H(W))}),U="return ["+U.join(",")+"]"):(R?O(R)?F(S,function(V,W){q(R[W])?R[W]=R[W].toLowerCase():Q[R[W]]=R[W],U.push("\""+G(T[W])+"\": deserialize[cast["+W+"]]("+H(W)+")")}):F(S,function(V,W){U.push("\""+G(T[W])+"\": "+I(V,W))}):F(S,function(V,W){U.push("\""+G(T[W])+"\": "+H(W))}),U="return {"+U.join(",")+"}"),Function("attrs","deserialize","cast",U)}function K(Q,R){var S,T=0;return F(R,function(U){var V,W=U;-1!=L.indexOf(U)&&(W="\\"+W),V=Q.match(RegExp(W,"g")),V&&V.length>T&&(T=V.length,S=U)}),S||R[0]}var L=["|","^"],M=[",",";","  ","|","^"],N=["\r\n","\r","\n"],O=Array.isArray||function(Q){return"[object Array]"===toString.call(Q)},P=function(){function Q(U,V){if(V||(V={}),O(U))this.mode="encode";else{if(!q(U))throw Error("Incompatible format!");this.mode="parse"}this.data=U,this.options={header:E(V.header,!1),cast:E(V.cast,!0)};var W=V.lineDelimiter||V.line,X=V.cellDelimiter||V.delimiter;this.isParser()?(this.options.lineDelimiter=W||K(this.data,N),this.options.cellDelimiter=X||K(this.data,M),this.data=S(this.data,this.options.lineDelimiter)):this.isEncoder()&&(this.options.lineDelimiter=W||"\r\n",this.options.cellDelimiter=X||",")}function R(U,V,W,X,Y){U(new V(W,X,Y))}function S(U,V){return U.slice(-V.length)!=V&&(U+=V),U}function T(U){return O(U)?"array":k(U)?"object":q(U)?"string":B(U)?"null":"primitive"}return Q.prototype.set=function(U,V){return this.options[U]=V},Q.prototype.isParser=function(){return"parse"==this.mode},Q.prototype.isEncoder=function(){return"encode"==this.mode},Q.prototype.parse=function(U){function V(){_={escaped:!1,quote:!1,cell:!0}}function W(){fa.cell=""}function X(){fa.line=[]}function Y(na){fa.line.push(_.escaped?na.slice(1,-1).replace(/""/g,"\""):na),W(),V()}function Z(na){Y(na.slice(0,1-da.lineDelimiter.length))}function $(){ea?O(ea)?(aa=J(ga,da.cast,fa.line,ea),($=function(){R(U,aa,fa.line,ga,da.cast)})()):ea=fa.line:(aa||(aa=J(ga,da.cast,fa.line)),($=function(){R(U,aa,fa.line,ga,da.cast)})())}if("parse"==this.mode){if(0===this.data.trim().length)return[];var _,aa,ba,ca=this.data,da=this.options,ea=da.header,fa={cell:"",line:[]},ga=this.deserialize;U||(ba=[],U=function(na){ba.push(na)}),1==da.lineDelimiter.length&&(Z=Y);var ha,ia,ja,ka=ca.length,la=da.cellDelimiter.charCodeAt(0),ma=da.lineDelimiter.charCodeAt(da.lineDelimiter.length-1);for(V(),ha=0,ia=0;ka>ha;ha++)ja=ca.charCodeAt(ha),_.cell&&(_.cell=!1,34==ja)?_.escaped=!0:_.escaped&&34==ja?_.quote=!_.quote:(_.escaped&&_.quote||!_.escaped)&&(ja==la?(Y(fa.cell+ca.slice(ia,ha)),ia=ha+1):ja==ma&&(Z(fa.cell+ca.slice(ia,ha)),ia=ha+1,(1<fa.line.length||""!==fa.line[0])&&$(),X()));return ba?ba:this}},Q.prototype.deserialize={string:function(U){return U+""},number:function(U){return+U},boolean:function(U){return!!U}},Q.prototype.serialize={object:function(U){var V=this,W=Object.keys(U),X=Array(W.length);return F(W,function(Y,Z){X[Z]=V[T(U[Y])](U[Y])}),X},array:function(U){var V=this,W=Array(U.length);return F(U,function(X,Y){W[Y]=V[T(X)](X)}),W},string:function(U){return"\""+(U+"").replace(/"/g,"\"\"")+"\""},"null":function(){return""},primitive:function(U){return U}},Q.prototype.encode=function(U){function V(ea){return ea.join(Z.cellDelimiter)}if("encode"==this.mode){if(0==this.data.length)return"";var W,X,Y=this.data,Z=this.options,$=Z.header,_=Y[0],aa=this.serialize,ba=0;U||(X=Array(Y.length),U=function(ea,fa){X[fa+ba]=ea}),$&&(O($)||(W=Object.keys(_),$=W),U(V(aa.array($)),0),ba=1);var ca,da=T(_);return"array"==da?(O(Z.cast)?(ca=Array(Z.cast.length),F(Z.cast,function(ea,fa){q(ea)?ca[fa]=ea.toLowerCase():(ca[fa]=ea,aa[ea]=ea)})):(ca=Array(_.length),F(_,function(ea,fa){ca[fa]=T(ea)})),F(Y,function(ea,fa){var ga=Array(ca.length);F(ea,function(ha,ia){ga[ia]=aa[ca[ia]](ha)}),U(V(ga),fa)})):"object"==da&&(W=Object.keys(_),O(Z.cast)?(ca=Array(Z.cast.length),F(Z.cast,function(ea,fa){q(ea)?ca[fa]=ea.toLowerCase():(ca[fa]=ea,aa[ea]=ea)})):(ca=Array(W.length),F(W,function(ea,fa){ca[fa]=T(_[ea])})),F(Y,function(ea,fa){var ga=Array(W.length);F(W,function(ha,ia){ga[ia]=aa[ca[ia]](ea[ha])}),U(V(ga),fa)})),X?X.join(Z.lineDelimiter):this}},Q.prototype.forEach=function(U){return this[this.mode](U)},Q}();return P.parse=function(Q,R){return new P(Q,R).parse()},P.encode=function(Q,R){return new P(Q,R).encode()},P.forEach=function(Q,R,S){return 2==arguments.length&&(S=R),new P(Q,R).forEach(S)},P});</script><script>'use strict';const categories=['applied','accepted','waitlisted','rejected'];Object.freeze(categories);const responseCategories=['no response','going','not going','need reimbursement'];Object.freeze(responseCategories),Polymer({is:'select-hackers',properties:{hackers:{type:Array,value:[]},incr:{type:Number,value:0},categories:{type:Array,value:categories},filters:{type:Object,value:function(){return{search:'',status:'',response:'',missing_passport:!1}}},responseCategories:{type:Array,value:responseCategories}},refresh:function(){this.incr++},attached:function(){var d=this;setTimeout(function(){d.resize()},100),window.addEventListener('resize',function(){d.resize()})},resize:function(){var d=this.$.list.getBoundingClientRect().top;this.$.list.style.height=window.innerHeight-d+'px'},observers:['refresh(filters.status)','refresh(filters.checked_in)','refresh(filters.response)','refresh(filters.search)','refresh(filters.mentor)','refresh(filters.first)','refresh(filters.reimbursement)','refresh(filters.missing_passport)','handleRegistrations(registrations)','handleRegistrations(registrations.*)','handlePartials(registrations.*)','filter(hackers, filters, incr, hackers.*)'],cleanEmail:function(d){return d.toLowerCase().trim()},handleRegistrations:function(){this.lastRender&&clearTimeout(this.lastRender),this.lastRender=setTimeout(this.handleRegistrationsInternal.bind(this),300)},handlePartials:function(d){const f=d.path;if(this.hasPrefix(f,'registrations.#')){const g=f.split('.'),j=g.slice(0,2).join('.'),k=this.get(j),l=k.filteredIndex;if(this.filtered[l]===k){const m='filtered.#'+l+'.'+g.slice(2).join('.');console.log(m),this.notifyPath(m)}}},hasPrefix:function(d,f){return d.slice(0,f.length)==f},handleRegistrationsInternal:function(){console.log('rendering!');const d=this.registrations.map(g=>{return g.id=g.$key,g});d.sort(function(g,j){return g.id<j.id?-1:1});var f={};d.forEach((g,j)=>{g.index=j;const k=this.cleanEmail(g.email);g.cleanEmail=k;const{count:l}=f[k]||{count:0};f[k]={last:g.id,count:l+1}}),d.forEach(g=>{const{last:k,count:l}=f[g.cleanEmail];1<l&&k!==g.id&&(g.duplicate=!0)}),d.forEach(g=>{const j=this.cleanEmail(g.school);(0<=j.indexOf('secondary')||0<=j.indexOf('high'))&&(g.hs=!0),g.status?-1==categories.indexOf(g.status)&&(g.status=categories[g.status]):g.status='applied'}),this.updateEmailIndex(d),this.clusters=this.clusterTeams(d),this.updateLunrIndex(d),console.log('hackers update'),this.hackers=d},clusterTeams:function(d){const f={};return d.forEach(g=>{if(!g.duplicate&&g.teammates&&0!==g.teammates.trim().length){const j=g.teammates.split(',').map(k=>this.cleanEmail(k));j.forEach(k=>{this.emailIndex[k]&&this.addPersonToCluster(f,g.cleanEmail,k)})}}),f},addPersonToCluster:function(d,f,g){const j=d[f]||new Set,k=d[g];j.add(f),j.add(g),k&&j!==k&&k.forEach(l=>{j.add(l),d[l]=j}),d[f]=j,d[g]=j},updateEmailIndex:function(d){const f={};d.forEach(g=>{g.duplicate||(f[g.cleanEmail]=g)}),this.emailIndex=f},updateLunrIndex:function(d){if(this.lastLunrIndexCount!==d.length){this.lastLunrIndexCount=d.length;const f=lunr(function(){this.ref('index'),this.field('id'),this.field('city'),this.field('email'),this.field('emailSplit'),this.field('github'),this.field('personalsite'),this.field('linkedin'),this.field('name'),this.field('reason'),this.field('school'),this.field('teammates')});d.forEach(function(g){g.emailSplit=g.email.replace(/@/g,' '),f.add(g)}),this.lunr=f}},responseCat:function(d){return this.responseCategories[d]},eq:function(d,f){return d==f},export:function(){const d=JSON.parse(JSON.stringify(this.filtered));d.forEach(g=>{g.resume=this.resumeLink(g.resume)});var f=new CSV(d,{header:!0}).encode();this.downloadFile('applicants_export.csv',f)},downloadFile:function(d,f){var g=new Blob([f]);const j=document.createElement('a');j.setAttribute('download',d),j.setAttribute('href',URL.createObjectURL(g)),document.body.appendChild(j),j.click()},title:function(d){return d.name+' ('+d.email+')'},filter:function(d,f){var j=d;if(this.totalCount=d.length,3<=f.search.length){var k=this.lunr.search(f.search);j=k.map(function(q){return d[q.ref]})}var l=f.status,m=f.response,n=this.responded(m),o=j.filter(q=>{var t=(''===l||'null'===l||'All'===l||l===q.status)&&(''===m||'null'===m||'All'===m||this.respondedWith(q,n))&&!q.duplicate;return f.mentor&&(t=t&&q.mentor),f.checked_in&&(t=t&&q.checked_in),f.reimbursement&&(t=t&&q.travel_reimbursement),f.first&&(t=t&&q.first_hackathon),f.missing_passport&&(t=t&&q.rsvp&&'No'===q.rsvp.passport),t});o.forEach((q,r)=>{q.filteredIndex=r});const p=this.$.list.scrollTop;this.filtered=o,this.filteredCount=o.length,this.$.list.scroll(0,p)},resumeLink:function(d){return'https://firebasestorage.googleapis.com/v0/b/nwhacks-96701.appspot.com/o/'+encodeURIComponent(d)+'?alt=media'},githubLink:function(d){return d?0<d.indexOf('github.com')?d:'https://github.com/'+d:void 0},linkedinLink:function(d){return d?0<d.indexOf('linkedin.com')?d:'https://linkedin.com/in/'+d:void 0},selected:function(d){var f=categories.indexOf(d);return 0<=f?f:0},responded:function(d){var f=responseCategories.indexOf(d);return 0<=f?f:0},eq:function(d,f){return d===f},respondedWith:function(d,f){return d.acceptance_sent&&'accepted'===d.status&&(d.rsvp?1:0)===f},onSelect:function(d){const f=d.target.value,g=d.model.hacker;this.setHackerStatus(g,f)},onSelectTeam:function(d){const f=d.target.value;d.target.value='';const g=d.model.hacker,j=this.teammates(g);j.forEach(k=>{const l=this.emailIndex[k];this.setHackerStatus(l,f)})},setHackerStatus:function(d,f){return-1===categories.indexOf(f)?void console.log('ignoring status:',f):void(d.status!==f&&(this.set('filtered.'+d.filteredIndex+'.status',f),this.patchHacker(d)))},phoneChange:function(d){var f=d.model.hacker;this.patchHacker(f)},checkIn:function(d){var f=d.model.hacker;this.patchHacker(f)},patchHacker:function(d){delete d.$key,this.$.regs.setStoredValue('/registrations/'+d.id,d);this.hackers},refreshList:function(){this.incr++},handleErr:function(d,f){this.handleError(d,f.error)},hackerAdminURL:function(d){return'/api/admin/nwhacks/registration/'+d.id+'/change/'},handleError:function(d,f){console.log('Error',f),this.error=f,this.$.error.open()},hasTeammates:function(d){return!!this.clusters[d.cleanEmail]},teammates:function(d){const f=this.clusters[d.cleanEmail];return f?Array.from(f).sort():[]},scrollToEmail:function(d){const f=d.model.item;this.filtered.forEach((g,j)=>{g.cleanEmail===f&&this.$.list.scrollToIndex(j)})},acceptanceSent:function(d){return d.acceptance_sent&&'accepted'===d.status},rsvpLink:function(d){return'/rsvp/'+d.id+'#begin'},resetRSVPTime:function(d){const f=d.model.hacker;d.model.set('hacker.acceptance_sent.Time',moment().format()),this.patchHacker(f)},timeTo:function(d){return moment(d).add(7,'days').fromNow()}});</script></dom-module></body></html>